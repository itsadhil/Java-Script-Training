<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Rock paper scissors</h1>
    <button onclick="playgame('Rock'); scoreupdator();">Rock</button>
    <button onclick="playgame('Paper'); scoreupdator();">Paper</button>
    <button onclick="playgame('Scissors'); scoreupdator();">Scissors</button>
    <p class="result"></p>
    <p class="move"></p>
    <h1>SCORE</h1>
    <p class="wins">WINS: 0</p>
    <p class="loss">LOSS: 0</p>
    <p class="ties">TIES: 0</p>
    <button onclick="score.wins = 0;score.loss = 0; score.ties = 0; scoreupdator(); localStorage.removeItem('score');alert('Score has been reset')">Reset Score</button>
<script>
    let score = JSON.parse(localStorage.getItem('score')) || {
        wins: 0,
        loss: 0,
        ties: 0
    }
    function playgame(playermove){
        let computermove = '';
        const randomnumber = Math.random();
        if (randomnumber >= 0 && randomnumber <= 1/3){
            computermove = 'Rock';
        } else if (randomnumber >= 1/3 && randomnumber <= 2/3){
            computermove = 'Paper';
        } else if (randomnumber >= 2/3 && randomnumber <= 1){
            computermove = 'Scissors';
        }   

        let result = '';
        if (playermove === 'Scissors'){
            if (computermove === 'Rock'){
                result = 'You Lost';
            } else if (computermove === 'Paper'){
                result = 'You Win';
            } else {
                result = 'Draw';
            }
        } else if (playermove === 'Rock'){
            if (computermove === 'Paper'){
                result = 'You Lost';
            } else if (computermove === 'Scissors'){
                result = 'You Win';
            } else{
                result = 'Draw';
            }
            } else if (playermove === 'Paper'){
                if (computermove === 'Scissors'){
                    result = 'You Lost';
                } else if (computermove === 'Rock'){
                    result = 'You Win';
                } else{
                    result = 'Draw';
                }
            }else{
                result = 'Invalid move';
            }
            if (result === 'You Win'){
                score.wins += 1;
                document.querySelector('.result').innerHTML = result;
                document.querySelector('.move').innerHTML = `You picked ${playermove} and The computer picked ${computermove}`
                
            } else if (result === 'You Lost'){
                score.loss += 1;
                document.querySelector('.result').innerHTML = result;
                document.querySelector('.move').innerHTML = `You picked ${playermove} and The computer picked ${computermove}`
            } else{
                score.ties +=1;
                document.querySelector('.result').innerHTML = result;
                document.querySelector('.move').innerHTML = `You picked ${playermove} and The computer picked ${computermove}`
            }
            localStorage.setItem('score', JSON.stringify(score));
            alert(`You picked ${playermove} and The computer picked ${computermove}\nScore: Wins: ${score.wins}, Loss: ${score.loss}, Ties: ${score.ties}`);
        }
    
    function scoreupdator() {
    document.querySelector('.wins').innerHTML = `WINS: ${score.wins}`;
    document.querySelector('.loss').innerHTML = `LOSS ${score.loss}`;
    document.querySelector('.ties').innerHTML = `TIES: ${score.ties}`;
    }
    
</script>
</body>
</html>